{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0ef498edc505f6331903","webpack:///./src/tmpl-router/tmpl-router.js","webpack:///./src/index.js","webpack:///./src/tmpl-router/config.js","webpack:///./src/tmpl-router/get-tmpl.js","webpack:///./src/tmpl-router/hash-change.js","webpack:///./src/tmpl-router/init.js","webpack:///./src/tmpl-router/set.js"],"names":["TmplRouter","opts","constructor","hasTmplRouter","tmplRouter","init","call","routerOpts","fn","isObj","each","opt","key","router","setPaths","page","isNum","history","go","hash","replace","href","location","split","join","searchs","isStr","query","search","_search","index","temp","length","value","el","tmpl","path","attr","e","serialize","undefined","window","status","routerStatus","Tmpl","installed","install","global","factory","_require","defineId","version","config","routerLink","routerLinkActive","routerView","routerAnchor","routerAnchorAttr","routerAnchorTop","anchorTime","data","methods","getTmpl","_this","childNodes","tmplUrl","tmplId","$","ajax","async","url","success","appendChild","create","filterTextNode","changeRoutereStatus","error","html","getEl","parentEl","nodeType","textContent","trim","remove","protoHashChange","getHash","routerBtns","getEls","hasAlias","alias","getPathAlias","apply","run","routerEnter","hashChange","alinkEl","lastRouter","hideTmplEl","showTmplEl","setRouterStatus","currentRouter","addClass","keepLive","setScrollTop","removeClass","routerEntered","view","children","push","num","document","body","scrollTop","parseFloat","documentElement","extend","copy","created","mounted","setRouter","setInstance","setRouterLinkStatus","setRouterAnchor","setkeepLive","setHashEvent","routers","_path","modules","type","get","_get","routerBtn","on","event","triggerRouter","preventDefault","time","stopScroll","anchorId","anchorEl","anchorOffsetTop","Number","isEl","addEventListener","animate","offset","top","removeEventListener","routes","createDocumentFragment","onhashchange"],"mappings":"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","file":"./js/tmpl-router.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"TmplRourt\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"TmplRourt\"] = factory();\n\telse\n\t\troot[\"TmplRourt\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0ef498edc505f6331903","//初始化\r\nimport init from './init';\r\n//hashChange\r\nimport hashChange from './hash-change';\r\n//动态加载模板\r\nimport getTmpl from './get-tmpl';\r\n\r\n/*\r\n * 路由构造\r\n * \r\n * */\r\nclass TmplRouter {\r\n\tconstructor(opts) {\r\n\t\t//如果已经实例化了一次，直接返回实例化的路由\r\n\t\tif(this.constructor.hasTmplRouter) {\r\n\t\t\treturn this.constructor.tmplRouter;\r\n\t\t};\r\n\t\tthis.init(opts);\r\n\t}\r\n\r\n\t//安装插件\r\n\tstatic install(Tmpl) {\r\n\r\n\t\t//检查是否安装过路由了\r\n\t\tif(this.installed) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tthis.installed = true;\r\n\r\n\t\tthis.tmpl = new Tmpl({});\r\n\r\n\t\tthis.fn = this.tmpl.fn;\r\n\t}\r\n\r\n\tinit(opts) {\r\n\t\tinit.call(this, opts)\r\n\t}\r\n\r\n\t/*设置路由路径*/\r\n\tset(routerOpts) {\r\n\t\tconst fn = this.constructor.fn;\r\n\t\tif(fn.isObj(routerOpts)) {\r\n\t\t\tfn.each(routerOpts, (opt, key) => {\r\n\t\t\t\tthis.router[key] = opt;\r\n\t\t\t});\r\n\t\t}\r\n\t\t//设置路由配置\r\n\t\tsetPaths.call(this, routerOpts);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t//hash改变调用\r\n\thashChange() {\r\n\t\thashChange.call(this);\r\n\t}\r\n\r\n\tgo(page) {\r\n\t\tconst fn = this.constructor.fn;\r\n\t\tif(fn.isNum(page)) history.go(page);\r\n\t}\r\n\r\n\tredirect(hash) {\r\n\t\thash = hash.replace('#', '');\r\n\t\tconst href = location.href.split('#');\r\n\t\tif(hash === '/') {\r\n\t\t\tlocation.href = href[0];\r\n\t\t} else {\r\n\t\t\thref[1] = hash;\r\n\t\t\tlocation.href = href.join('#');\r\n\t\t}\r\n\t}\r\n\r\n\t/*获取模板*/\r\n\tgetTmpl(hash) {\r\n\t\tgetTmpl.call(this, hash);\r\n\t}\r\n\r\n\t/*返回参数对象*/\r\n\tquery(searchs) {\r\n\t\tconst fn = this.constructor.fn;\r\n\t\tif(!fn.isStr(searchs)) return {};\r\n\t\tconst query = {},\r\n\t\t\tsearch = searchs.split('&');\r\n\t\tfn.each(search, function(_search, index) {\r\n\t\t\tvar temp = _search.split('=');\r\n\t\t\tif(temp.length !== 1) {\r\n\t\t\t\tvar key = temp[0];\r\n\t\t\t\tvar value = temp[1];\r\n\t\t\t\tquery[key] = value;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn query;\r\n\t}\r\n\r\n\t/*获取|设置hash-url参数*/\r\n\tsearch(el, search) {\r\n\r\n\t\tconst fn = this.constructor.fn,\r\n\t\t\ttmpl = this.constructor.tmpl;\r\n\r\n\t\tlet path = '';\r\n\r\n\t\ttry {\r\n\t\t\tpath = tmpl.attr(el, 'href').split('?');\r\n\t\t} catch(e) {\r\n\t\t\tpath = el.split('?');\r\n\t\t}\r\n\r\n\t\tif(search) {\r\n\t\t\tif(fn.isObj(search)) {\r\n\t\t\t\tsearch = fn.serialize(search);\r\n\t\t\t}\r\n\t\t\tpath[1] = search;\r\n\t\t\ttmpl.attr(el, {\r\n\t\t\t\thref: path.join('?')\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\treturn path[1];\r\n\t\t}\r\n\t}\r\n\r\n\t/*分离hash和hash-search，只取hash*/\r\n\tgetHash(hash) {\r\n\t\tif(hash === undefined) {\r\n\t\t\thash = window.location.hash.replace('#', '');\r\n\t\t}\r\n\t\tconst path = hash.replace('#', '').split('?');\r\n\t\treturn path[0];\r\n\t}\r\n\r\n\t/* 修改路由link的点击的状态 */\r\n\tchangeRoutereStatus(status) {\r\n\t\tthis.routerStatus = status;\r\n\t}\r\n}\r\n\r\n//查看是否在全局中存在插件\r\nif(window.Tmpl && typeof Tmpl === 'function') {\r\n\tTmplRouter.install(Tmpl);\r\n}\r\n\r\nexport default TmplRouter;\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl-router/tmpl-router.js","//Tmpl 文件入口\r\nimport TmplRouter from './tmpl-router/tmpl-router';\r\n\r\n(function(global, factory) {\r\n    if(typeof _require === 'function') {\r\n        _require.defineId('tmpl-router', factory);\r\n    }\r\n})(typeof window !== 'undefined' ? window : this, function() {\r\n\r\n    TmplRouter.version = \"v1.0.3\";\r\n\r\n    return TmplRouter;\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/*默认配置*/\r\nconst config = {\r\n\trouterLink: 'tmpl-router', //.tmpl-router                       \r\n\trouterLinkActive: 'tmpl-router-active', //.tmpl-router-active\r\n\trouterView: 'tmpl-router-view', //#tmpl-router-view\r\n\trouterAnchor: 'tmpl-router-anchor', //锚点用的class\r\n\trouterAnchorAttr:'tmpl-anchor',\t\t//路由锚点的id属性\r\n\trouterAnchorTop:'tmpl-anchor-top',//路由锚点的差点\r\n\tanchorTime: 1000, //默认锚点路由 1000/17\r\n\tdata: {},\r\n\tmethods: {}\r\n};\r\n\r\nexport default config;\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl-router/config.js","/*\r\n *\t动态加载模板 \r\n * */\r\n\r\nexport default function getTmpl(hash) {\r\n\r\n\tconst fn = this.constructor.fn;\r\n\r\n\tconst tmpl = this.constructor.tmpl;\r\n\r\n\tconst _this = this;\r\n    \r\n    //查看当前的路由 模板是否加载回来了\r\n\tif((!this.router[hash]) || this.router[hash]['view'].length > 0 || this.router[hash]['temp'].childNodes.length > 0) return; \r\n\r\n\tconst tmplUrl = this.router[hash]['tmplUrl']; //获取请求的url\r\n\r\n\tconst tmplId = this.router[hash]['tmplId']; //获取静态模板的id\r\n\r\n\t/*动态模板*/\r\n\tif(tmplUrl) {\r\n\t\ttry {\r\n\t\t\t$.ajax({\r\n\t\t\t\tasync: false,\r\n\t\t\t\turl: tmplUrl,\r\n\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t_this.router[hash]['temp'].appendChild(tmpl.create(data.tmpl));\r\n\t\t\t\t\tfilterTextNode.call(_this, _this.router[hash]['temp']);\r\n\t\t\t\t\t_this.changeRoutereStatus(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(data) {\r\n\t\t\t\t\t_this.changeRoutereStatus(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch(e) {\r\n\t\t\tfn.ajax({\r\n\t\t\t\tasync: false,\r\n\t\t\t\turl: tmplUrl,\r\n\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t_this.router[hash]['temp'].appendChild(tmpl.create(data.tmpl));\r\n\t\t\t\t\tfilterTextNode.call(_this, _this.router[hash]['temp']);\r\n\t\t\t\t\t_this.changeRoutereStatus(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(data) {\r\n\t\t\t\t\t_this.changeRoutereStatus(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t} else if(tmplId) {\r\n\t\ttry {\r\n\t\t\tthis.router[hash]['temp'].appendChild(tmpl.create(tmpl.html(fn.getEl(tmplId)))); //非动态模板\t\r\n\t\t} catch(e) {\r\n\t\t\tthis.router[hash]['temp'].appendChild(tmpl.create(''));\r\n\t\t}\r\n\t\tthis.changeRoutereStatus(true);\r\n\t}\r\n}\r\n\r\n/*清空空的文本节点*/\r\nfunction filterTextNode(parentEl) {\r\n\r\n\tconst fn = this.constructor.fn;\r\n\r\n\tconst tmpl = this.constructor.tmpl;\r\n\r\n\tfn.each(parentEl.childNodes, (el, index) => {\r\n\t\tif(el && el.nodeType === 3 && el.textContent.trim() === '') {\r\n\t\t\ttmpl.remove(el);\r\n\t\t}\r\n\t});\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl-router/get-tmpl.js","/*\r\n *\t路由中的hash方法处理\r\n * */\r\nexport default function protoHashChange() {\r\n\r\n\tconst fn = this.constructor.fn;\r\n\r\n\tconst path = window.location.hash.replace('#', '');\r\n\r\n\tlet hash = this.getHash(path); //获取hash\r\n\r\n\tconst routerBtns = fn.getEls(this.config.routerLink); //获取路由绑定的节点\r\n\r\n\tlet hasAlias = false; //是否有别名\r\n\r\n\tif(hash === '') hash = '/'; //如果不存在hash设置为根目录\r\n\r\n\t//走别名路由\r\n\tif(this.alias[hash]) {\r\n\t\thasAlias = true;\r\n\t\thash = getPathAlias.apply(this, [(hash === '/' ? hash : path), null]); //判断是不是别名的路由\t\r\n\t}\r\n\r\n\tif(routerBtns.length === 0) return this; //存在路由绑定\r\n\r\n\tif(!this.alias[hash] && !this.router[hash]) { //error页面\r\n\t\tfn.run(this.config.error, this);\r\n\t\treturn;\r\n\t}\r\n\r\n\t/*路由进入的钩子*/\r\n\tfn.run(this.config.routerEnter, this, [path]);\r\n\r\n\t/*如果是存在别名路径，返回代理的那个路径*/\r\n\thashChange.apply(this, [routerBtns, (hasAlias ? hash : path)]);\r\n}\r\n\r\n/*hashChange的处理*/\r\nfunction hashChange(routerBtns, path) {\r\n\r\n\tconst fn = this.constructor.fn;\r\n\r\n\tconst tmpl = this.constructor.tmpl;\r\n\r\n\tlet alinkEl = null;\r\n\r\n\tconst hash = this.getHash(path);\r\n\r\n\tthis.getTmpl(hash); //默认动态加载模块\r\n\r\n\t//是否存在最后一个路由地址\r\n\tif(this.lastRouter) {\r\n\t\t/*如果不是匹配的路由视图，则不显示在路由视图中*/\r\n\t\thideTmplEl.call(this, this.lastRouter);\r\n\t}\r\n\r\n\tthis.lastRouter = hash; //记录最后的路由路径\r\n\r\n\tshowTmplEl.apply(this, [hash]); //显示路由的view\r\n\r\n\tsetRouterStatus.call(this, hash); //设置路由的链接状态\r\n\r\n\t//修改对应的状态\r\n\tfn.each(routerBtns, (el, index) => {\r\n\t\tconst path = tmpl.attr(el, 'href'),\r\n\t\t\thref = this.getHash(path);\r\n\r\n\t\tif(href === hash) {\r\n\t\t\tthis.currentRouter = href; //保存当前的路由\r\n\r\n\t\t\talinkEl = el; //保存按钮节点\r\n\r\n\t\t\ttmpl.addClass(el, this.config.routerLinkActive); //修改路由link的样式\r\n\r\n\t\t\t/*是否使用了保存之前的状态*/\r\n\t\t\tif(this.config.keepLive && this.router[href]['keepLive']) {\r\n\t\t\t\tsetScrollTop.call(this, this.router[href]['scrollTop']);\r\n\t\t\t} else {\r\n\t\t\t\tsetScrollTop.call(this, 0);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t/*存在配置路由*/\r\n\t\t\tif(this.router[href]) {\r\n\t\t\t\thideTmplEl.call(this, href); //如果不是匹配的路由视图，则不显示在路由视图中\r\n\t\t\t}\r\n\t\t\ttmpl.removeClass(el, this.config.routerLinkActive);\r\n\t\t}\r\n\r\n\t\t/*如果设置的节点没有绑定到对应的节点上*/\r\n\t\tif(!alinkEl) {\r\n\t\t\tthis.currentRouter = hash;\r\n\t\t}\r\n\t});\r\n\t//调用钩子\r\n\tfn.run(this.config.routerEntered, this, [path, alinkEl]);\r\n}\r\n\r\n/*检查当前路径是否存在别名*/\r\nfunction getPathAlias(path, el) {\r\n\r\n\tconst fn = this.constructor.fn,\r\n\t\thash = this.getHash(path),\r\n\t\talias = this.alias[hash];\r\n\t\t\r\n\t//别名触发钩子\r\n\tif(this.router[hash]) {\r\n\t\tfn.run(this.config.routerEnter, this, [path, el]);\r\n\t\tfn.run(this.config.routerEntered, this, [path, el]);\r\n\t}\r\n\t\r\n\t//如果别名存在别名，递归使用\r\n\tif(this.alias[alias]) {\r\n\t\treturn getPathAlias.apply(this, [alias, el]);\r\n\t} else {\r\n\t\treturn alias;\r\n\t}\r\n}\r\n\r\n/*保存节点信息*/\r\nfunction hideTmplEl(hash) {\r\n\tconst fn = this.constructor.fn;\r\n\t/*如果不是匹配的路由视图，则不显示在路由视图中*/\r\n\tfn.each(this.router[hash]['view'], (el, index) => {\r\n\t\tthis.router[hash]['temp'].appendChild(el);\r\n\t});\r\n\tthis.router[hash]['view'] = [];\r\n}\r\n\r\n/*显示节点信息*/\r\nfunction showTmplEl(hash) {\r\n\r\n\tconst fn = this.constructor.fn,\r\n\t\ttmpl = this.constructor.tmpl,\r\n\t\tview = this.routerView;\r\n\r\n\tview.appendChild(this.router[hash]['temp']); //更新view层\r\n\t\r\n\tfn.each(tmpl.children(view), (el, index) => { //保存view层节点\r\n\t\tthis.router[hash]['view'].push(el);\r\n\t});\r\n}\r\n\r\n/* 设置路由的状态，针对没有方法加载的路由模板中存在方法的 */\r\nfunction setRouterStatus(hash) {\r\n\t/*修改路由状态*/\r\n\tif(this.router[hash]['routerStatus'] == true) {\r\n\t\tthis.changeRoutereStatus(true);\r\n\t}\r\n}\r\n\r\n/*设置scrollTop*/\r\nfunction setScrollTop(num) {\r\n\tconst fn = this.constructor.fn;\r\n\tif(!fn.isNum(num)) return 0;\r\n\ttry {\r\n\t\tdocument.body.scrollTop = parseFloat(num);\r\n\t} catch(e) {\r\n\t\tdocument.documentElement.scrollTop = parseFloat(num);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl-router/hash-change.js","//配置参数\r\nimport config from './config';\r\n//设置的handler\r\nimport {\r\n\tsetRouter,\r\n\tsetInstance,\r\n\tsetRouterLinkStatus,\r\n\tsetRouterAnchor,\r\n\tsetkeepLive,\r\n\tsetPaths,\r\n\tsetHashEvent\r\n} from './set';\r\n//路由初始\r\nexport default function init(opts) {\r\n\r\n\tconst fn = this.constructor.fn;\r\n\t\r\n\tthis.router = {};\r\n\t\r\n\t//把第一次的实例对象挂在到构造上\r\n\tthis.constructor.tmplRouter = this;\r\n\r\n\tthis.config = fn.extend(fn.copy(config), opts);\r\n\t\r\n\tthis.routerView = fn.getEl(this.config.routerView);\r\n\r\n\tsetRouter.call(this, this.config.router ? this.config.router : {});\r\n\r\n\tsetInstance.call(this, 'methods'); //设置methods\r\n\r\n\tsetInstance.call(this, 'data'); //设置data\r\n\r\n\tsetRouterLinkStatus.call(this); //设置路由链接的状态\r\n\r\n\tsetRouterAnchor.call(this, this.config.anchorTime); //设置路由的锚点形式\r\n\r\n\tsetkeepLive.call(this); //设置保持状态\r\n\r\n\tsetPaths.call(this, this.router); //处理路由详情 \r\n\r\n\tsetHashEvent.call(this); //设置hash\r\n\r\n\tfn.run(this.config.created, this); //所有创建后的钩子\r\n\r\n\tthis.hashChange(); //初始化好了初始化hash\r\n\r\n\tfn.run(this.config.mounted, this); //所有完毕后的钩子\r\n\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl-router/init.js","//设置路由的路径\r\nexport function setRouter(routers, path) {\r\n\r\n\tconst fn = this.constructor.fn,\r\n\t\t_path = (path ? path : '');\r\n\r\n\tfn.each(routers, (router, key) => {\r\n\t\tif(fn.isObj(router.modules)) {\r\n\t\t\tsetRouter.apply(this, [router.modules, _path + key]);\r\n\t\t}\r\n\t\tthis.router[_path + key] = router;\r\n\t\tdelete router['modules'];\r\n\t});\r\n}\r\n\r\n//设置data和methods方法\r\nexport function setInstance(type) {\r\n\r\n\tconst fn = this.constructor.fn,\r\n\t\tget = this.config[type];\r\n\r\n\tif(!fn.isObj(get)) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tfn.each(get, (_get, key) => {\r\n\t\tthis[key] = _get;\r\n\t});\r\n}\r\n\r\n/*设置路由的状态是够允许跳转*/\r\nexport function setRouterLinkStatus() {\r\n\r\n\tconst fn = this.constructor.fn;\r\n\r\n\tconst tmpl = this.constructor.tmpl;\r\n\r\n\tthis.changeRoutereStatus(true);\r\n\r\n\tconst routerBtns = fn.getEls(this.config.routerLink); //获取路由绑定的节点\r\n\r\n\tfn.each(routerBtns, (routerBtn, index) => {\r\n\t\tfn.on(routerBtn, 'click', (event) => {\r\n\t\t\tconst path = tmpl.attr(routerBtn, 'href'),\r\n\t\t\t\thash = this.getHash(path);\r\n\t\t\tif(!(this.lastRouter === hash)){\t\t\t\t\r\n\t\t\t\t//点击路由链接触发的钩子\r\n\t\t\t\tfn.run(this.config.triggerRouter, this, [path, routerBtn]);\r\n\t\t\t}\r\n\t\t\tif(!this.routerStatus) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\n/*设置路由的锚点形式*/\r\nexport function setRouterAnchor(time) {\r\n\tconst fn = this.constructor.fn,\r\n\t\ttmpl = this.constructor.tmpl;\r\n\r\n\tfunction stopScroll(event) {\r\n\t\tevent.preventDefault();\r\n\t}\r\n\r\n\t//获取路由绑定的节点\r\n\ttmpl.on(document, this.config.routerAnchor, 'click', (event, el) => {\r\n\r\n\t\tconst anchorId = tmpl.attr(el, this.config.routerAnchorAttr),\r\n\t\t\tanchorEl = fn.getEl(anchorId);\r\n\r\n\t\tlet anchorOffsetTop = tmpl.attr(el, this.config.routerAnchorTop);\r\n\r\n\t\tanchorOffsetTop = fn.isNum(anchorOffsetTop) ? Number(anchorOffsetTop) : 0;\r\n\r\n\t\tif(fn.isEl(anchorEl)) {\r\n\t\t\t//定义滑动阻止默认动作\r\n\t\t\twindow.addEventListener('mousewheel', stopScroll);\r\n\r\n\t\t\ttmpl.animate(document, {\r\n\t\t\t\t'scrollTop': tmpl.offset(anchorEl).top + anchorOffsetTop\r\n\t\t\t}, time, function() {\r\n\t\t\t\twindow.removeEventListener('mousewheel', stopScroll);\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/*设置保持状态*/\r\nexport function setkeepLive() {\r\n\tconst fn = this.constructor.fn;\r\n\tif(!this.config.keepLive) return;\r\n\tfn.on(window, 'scroll', (event) => {\r\n\t\tif(this.router[this.currentRouter] && this.router[this.currentRouter]['keepLive']) {\r\n\t\t\tthis.router[this.currentRouter]['scrollTop'] = document.body.scrollTop || document.documentElement.scrollTop;\r\n\t\t}\r\n\t});\r\n}\r\n\r\n//初始处理路由信息\r\nexport function setPaths(routes) {\r\n\r\n\tconst fn = this.constructor.fn;\r\n\r\n\tthis.alias = {};\r\n\r\n\tfn.each(routes, (router, path) => {\r\n\r\n\t\tconst alias = router.alias;\r\n\r\n\t\tthis.router[path]['view'] = []; //设置视图节点\r\n\r\n\t\t//如果设置了全局的keepLive，就会默认设置保持节点为true,全局设定状态的时候是支持保持状态的\r\n\t\tif(this.config.keepLive && this.router[path]['keepLive'] === undefined) {\r\n\t\t\tthis.router[path]['keepLive'] = true;\r\n\t\t}\r\n\r\n\t\tthis.router[path]['temp'] = document.createDocumentFragment(); //设置临时存放节点\r\n\r\n\t\t//存在别名\r\n\t\tif(alias) {\r\n\t\t\tthis.alias[alias] = path;\r\n\t\t}\r\n\t});\r\n}\r\n\r\n//设置hash\r\nexport function setHashEvent() {\r\n\r\n\tconst tmpl = this.constructor.tmpl;\r\n\r\n\tif(!this.constructor.hasTmplRouter) {\r\n\t\t//修改hash时触发修改\r\n\t\twindow.onhashchange = (event) => {\r\n\t\t\tthis.hashChange();\r\n\t\t\ttmpl.preventDefault(event);\r\n\t\t}\r\n\t\tthis.constructor.hasTmplRouter = true;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl-router/set.js"],"sourceRoot":""}