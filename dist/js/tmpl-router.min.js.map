{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///webpack/bootstrap 8fa3656084a855f8db51?be7b","webpack:///./src/tmpl-router/tmpl-router.js?cfe3","webpack:///./src/index.js?9552","webpack:///./src/tmpl-router/config.js?426d","webpack:///./src/tmpl-router/get-tmpl.js?a4e4","webpack:///./src/tmpl-router/hash-change.js?6582","webpack:///./src/tmpl-router/init.js?10ed","webpack:///./src/tmpl-router/set.js?a02b"],"names":["TmplRouter","opts","constructor","hasTmplRouter","tmplRouter","init","call","routerOpts","util","isObjcet","each","opt","key","routes","setPaths","hashChange","page","isNum","history","go","hash","replace","href","location","split","join","getTmpl","searchs","isStr","query","search","_search","index","temp","length","value","el","tmpl","path","attr","e","serialize","undefined","window","status","routerStatus","Tmpl","installed","install","global","factory","demand","define","version","config","routerLink","routerLinkActive","routerView","routerAnchor","routerAnchorAttr","routerAnchorTop","anchorTime","data","methods","_this","childNodes","tmplUrl","tmplId","$","ajax","async","url","success","appendChild","create","filterTextNode","changeRoutereStatus","error","html","getEl","parentEl","nodeType","textContent","trim","remove","protoHashChange","routerBtns","getEls","lastRouter","$lastRouter","getHash","hasAlias","alias","getPathAlias","apply","run","routerEnter","$from","fullPath","alinkEl","hideTmplEl","showTmplEl","currentRouter","addClass","removeClass","setRouterScroll","routerEntered","view","children","push","keepLive","setScrollTop","scrollTop","num","document","body","parseFloat","documentElement","router","extend","deepCopy","setRouter","setInstance","setRouterLinkStatus","setRouterAnchor","setkeepLive","setHashEvent","created","mounted","routers","_path","__path","isArray","modules","type","get","_get","routerBtn","on","event","triggerRouter","preventDefault","redirect","time","stopScroll","anchorId","anchorEl","anchorOffsetTop","Number","isEl","addEventListener","animate","offset","top","removeEventListener","createDocumentFragment","onhashchange"],"mappings":"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","file":"./js/tmpl-router.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"TmplRourt\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"TmplRourt\"] = factory();\n\telse\n\t\troot[\"TmplRourt\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8fa3656084a855f8db51","//初始化\r\nimport init from './init';\r\n//hashChange\r\nimport hashChange from './hash-change';\r\n//动态加载模板\r\nimport getTmpl from './get-tmpl';\r\n\r\n/*\r\n * 路由构造\r\n * \r\n * */\r\nexport default class TmplRouter {\r\n\tconstructor(opts) {\r\n\t\t//如果已经实例化了一次，直接返回实例化的路由\r\n\t\tif(this.constructor.hasTmplRouter) {\r\n\t\t\treturn this.constructor.tmplRouter;\r\n\t\t};\r\n\t\tthis.init(opts);\r\n\t}\r\n\r\n\t//安装插件\r\n\tstatic install(Tmpl) {\r\n\r\n\t\t//检查是否安装过路由了\r\n\t\tif(this.installed) return this;\r\n\r\n\t\tthis.installed = true;\r\n\r\n\t\tthis.tmpl = new Tmpl({});\r\n\r\n\t\tthis.util = this.tmpl.util;\r\n\t}\r\n\r\n\tinit(opts) {\r\n\t\tinit.call(this, opts)\r\n\t}\r\n\r\n\t/*设置路由路径*/\r\n\tset(routerOpts) {\r\n\t\tconst util = this.constructor.util;\r\n\t\tif(util.isObjcet(routerOpts)) {\r\n\t\t\tutil.each(routerOpts, (opt, key) => {\r\n\t\t\t\tthis.routes[key] = opt;\r\n\t\t\t});\r\n\t\t}\r\n\t\t//设置路由配置\r\n\t\tsetPaths.call(this, routerOpts);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t//hash改变调用\r\n\thashChange() {\r\n\t\thashChange.call(this);\r\n\t}\r\n\r\n\tgo(page) {\r\n\t\tconst util = this.constructor.util;\r\n\t\tif(util.isNum(page)) history.go(page);\r\n\t}\r\n\r\n\tredirect(hash) {\r\n\t\thash = hash.replace('#', '');\r\n\t\tconst href = location.href.split('#');\r\n\t\tif(hash === '/') {\r\n\t\t\tlocation.href = href[0];\r\n\t\t} else {\r\n\t\t\thref[1] = hash;\r\n\t\t\tlocation.href = href.join('#');\r\n\t\t}\r\n\t}\r\n\r\n\t/*获取模板*/\r\n\tgetTmpl(hash) {\r\n\t\tgetTmpl.call(this, hash);\r\n\t}\r\n\r\n\t/*返回参数对象*/\r\n\tquery(searchs) {\r\n\t\tconst util = this.constructor.util;\r\n\t\tif(!util.isStr(searchs)) return {};\r\n\t\tconst query = {},\r\n\t\t\tsearch = searchs.split('&');\r\n\t\tutil.each(search, function(_search, index) {\r\n\t\t\tvar temp = _search.split('=');\r\n\t\t\tif(temp.length !== 1) {\r\n\t\t\t\tvar key = temp[0];\r\n\t\t\t\tvar value = temp[1];\r\n\t\t\t\tquery[key] = value;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn query;\r\n\t}\r\n\r\n\t/*获取|设置hash-url参数*/\r\n\tsearch(el, search) {\r\n\r\n\t\tconst util = this.constructor.util,\r\n\t\t\ttmpl = this.constructor.tmpl;\r\n\r\n\t\tlet path = '';\r\n\r\n\t\ttry {\r\n\t\t\tpath = tmpl.attr(el, 'href').split('?');\r\n\t\t} catch(e) {\r\n\t\t\tpath = el.split('?');\r\n\t\t}\r\n\r\n\t\tif(search) {\r\n\t\t\tif(util.isObjcet(search)) {\r\n\t\t\t\tsearch = util.serialize(search);\r\n\t\t\t}\r\n\t\t\tpath[1] = search;\r\n\t\t\ttmpl.attr(el, {\r\n\t\t\t\thref: path.join('?')\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\treturn path[1];\r\n\t\t}\r\n\t}\r\n\r\n\t/*分离hash和hash-search，只取hash*/\r\n\tgetHash(hash) {\r\n\t\tif(hash === undefined) {\r\n\t\t\thash = window.location.hash.replace('#', '');\r\n\t\t}\r\n\t\tconst path = hash.replace('#', '').split('?');\r\n\t\treturn path[0];\r\n\t}\r\n\r\n\t/* 修改路由link的点击的状态 */\r\n\tchangeRoutereStatus(status) {\r\n\t\tthis.routerStatus = status;\r\n\t}\r\n}\r\n\r\n//查看是否在全局中存在插件\r\nif(window.Tmpl && typeof Tmpl === 'function') {\r\n\tTmplRouter.install(Tmpl);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl-router/tmpl-router.js","//TmplRouter 文件入口\r\nimport TmplRouter from './tmpl-router/tmpl-router';\r\n\r\n(function(global, factory) {\r\n\tif(typeof demand === 'function') {\r\n\t\tdemand.define('tmpl-router', factory);\r\n\t}\r\n})(typeof window !== 'undefined' ? window : this, function() {\r\n\r\n\tTmplRouter.version = \"v1.0.3\";\r\n\r\n\treturn TmplRouter;\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/*默认配置*/\r\nconst config = {\r\n\trouterLink: 'tmpl-router', //.tmpl-router                       \r\n\trouterLinkActive: 'tmpl-router-active', //.tmpl-router-active\r\n\trouterView: 'tmpl-router-view', //#tmpl-router-view\r\n\trouterAnchor: 'tmpl-router-anchor', //锚点用的class\r\n\trouterAnchorAttr:'tmpl-anchor',\t\t//路由锚点的id属性\r\n\trouterAnchorTop:'tmpl-anchor-top',//路由锚点的差点\r\n\tanchorTime: 1000, //默认锚点路由 1000/17\r\n\tdata: {},\r\n\tmethods: {}\r\n};\r\n\r\nexport default config;\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl-router/config.js","/*\r\n *\t动态加载模板 \r\n * */\r\n\r\nexport default function getTmpl(hash) {\r\n\r\n\tconst util = this.constructor.util;\r\n\r\n\tconst tmpl = this.constructor.tmpl;\r\n\r\n\tconst _this = this;\r\n    \r\n    //查看当前的路由 模板是否加载回来了\r\n\tif((!this.routes[hash]) || this.routes[hash]['view'].length > 0 || this.routes[hash]['temp'].childNodes.length > 0) return; \r\n\r\n\tconst tmplUrl = this.routes[hash]['tmplUrl']; //获取请求的url\r\n\r\n\tconst tmplId = this.routes[hash]['tmplId']; //获取静态模板的id\r\n\r\n\t/*动态模板*/\r\n\tif(tmplUrl) {\r\n\t\ttry {\r\n\t\t\t$.ajax({\r\n\t\t\t\tasync: false,\r\n\t\t\t\turl: tmplUrl,\r\n\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t_this.routes[hash]['temp'].appendChild(tmpl.create(data.tmpl));\r\n\t\t\t\t\tfilterTextNode.call(_this, _this.routes[hash]['temp']);\r\n\t\t\t\t\t_this.changeRoutereStatus(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(data) {\r\n\t\t\t\t\t_this.changeRoutereStatus(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch(e) {\r\n\t\t\tutil.ajax({\r\n\t\t\t\tasync: false,\r\n\t\t\t\turl: tmplUrl,\r\n\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t_this.routes[hash]['temp'].appendChild(tmpl.create(data.tmpl));\r\n\t\t\t\t\tfilterTextNode.call(_this, _this.routes[hash]['temp']);\r\n\t\t\t\t\t_this.changeRoutereStatus(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(data) {\r\n\t\t\t\t\t_this.changeRoutereStatus(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t} else if(tmplId) {\r\n\t\ttry {\r\n\t\t\tthis.routes[hash]['temp'].appendChild(tmpl.create(tmpl.html(tmpl.getEl(tmplId)))); //非动态模板\t\r\n\t\t} catch(e) {\r\n\t\t\tthis.routes[hash]['temp'].appendChild(tmpl.create(''));\r\n\t\t}\r\n\t\tthis.changeRoutereStatus(true);\r\n\t}\r\n}\r\n\r\n/*清空空的文本节点*/\r\nfunction filterTextNode(parentEl) {\r\n\r\n\tconst util = this.constructor.util;\r\n\r\n\tconst tmpl = this.constructor.tmpl;\r\n\r\n\tutil.each(parentEl.childNodes, (el, index) => {\r\n\t\tif(el && el.nodeType === 3 && el.textContent.trim() === '') {\r\n\t\t\ttmpl.remove(el);\r\n\t\t}\r\n\t});\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl-router/get-tmpl.js","/*\r\n *\t路由中的hash方法处理\r\n * */\r\n\r\nexport default function protoHashChange() {\r\n\r\n    const util = this.constructor.util,\r\n        tmpl = this.constructor.tmpl,\r\n        path = window.location.hash.replace('#', ''),\r\n        routerBtns = tmpl.getEls(this.config.routerLink), //获取路由绑定的节点\r\n        lastRouter = this.$lastRouter;\r\n\r\n    let hash = this.getHash(path), //获取hash\r\n        hasAlias = false; //是否有别名\r\n\r\n    if(hash === '') hash = '/'; //如果不存在hash设置为根目录\r\n\r\n    //走别名路由\r\n    if(this.alias[hash]) {\r\n        hasAlias = true;\r\n        //判断是不是别名的路由\r\n        hash = getPathAlias.apply(this, [(hash === '/' ? hash : path), null]);\r\n    }\r\n\r\n    //存在路由绑定\r\n    if(routerBtns.length === 0) return this;\r\n\r\n    //error页面\r\n    if(!this.alias[hash] && !this.routes[hash]) {\r\n        util.run(this.config.error, this);\r\n        return;\r\n    }\r\n\r\n    //使用路由中的钩子\r\n    util.run(this.routes[hash].routerEnter, this, [path, this.$from]);\r\n\r\n    /*路由进入的全局钩子*/\r\n    util.run(this.config.routerEnter, this, [path, this.$from]);\r\n\r\n    /*如果是存在别名路径，返回代理的那个路径*/\r\n    hashChange.apply(this, [routerBtns, (hasAlias ? hash : path), path]);\r\n}\r\n\r\n/*hashChange的处理*/\r\nfunction hashChange(routerBtns, path, fullPath) {\r\n\r\n    const util = this.constructor.util,\r\n        tmpl = this.constructor.tmpl,\r\n        hash = this.getHash(path),\r\n        lastRouter = this.$lastRouter;\r\n\r\n    //记录被点击的router-link\r\n    let alinkEl = null;\r\n\r\n    //默认动态加载模块\r\n    this.getTmpl(hash);\r\n\r\n    //是否存在最后一个路由地址\r\n    if(lastRouter) {\r\n        /*如果不是匹配的路由视图，则不显示在路由视图中*/\r\n        hideTmplEl.call(this, this.getHash(lastRouter));\r\n        this.$from = fullPath;\r\n    }\r\n\r\n    //记录最后的路由路径\r\n    this.$lastRouter = path;\r\n\r\n    showTmplEl.apply(this, [hash]); //显示路由的view\r\n\r\n    //修改对应的状态\r\n    util.each(routerBtns, (el, index) => {\r\n        const path = tmpl.attr(el, 'href'),\r\n            href = this.getHash(path);\r\n\r\n        if(href === hash) {\r\n            this.currentRouter = href; //保存当前的路由\r\n\r\n            alinkEl = el; //保存按钮节点\r\n\r\n            tmpl.addClass(el, this.config.routerLinkActive); //修改路由link的样式\r\n        } else {\r\n            /*存在配置路由*/\r\n            if(this.routes[href]) hideTmplEl.call(this, href); //如果不是匹配的路由视图，则不显示在路由视图中\r\n\r\n            tmpl.removeClass(el, this.config.routerLinkActive);\r\n        }\r\n\r\n        /*如果设置的节点没有绑定到对应的节点上*/\r\n        if(!alinkEl) this.currentRouter = hash;\r\n    });\r\n\r\n    //设置keeplive\r\n    setRouterScroll.call(this, hash);\r\n\r\n    //使用路由中的钩子\r\n    util.run(this.routes[hash].routerEntered, this, [path, this.$from, alinkEl]);\r\n\r\n    //调用全局进入结束钩子\r\n    util.run(this.config.routerEntered, this, [path, this.$from, alinkEl]);\r\n}\r\n\r\n/*检查当前路径是否存在别名*/\r\nfunction getPathAlias(path, el) {\r\n\r\n    const util = this.constructor.util,\r\n        hash = this.getHash(path),\r\n        alias = this.alias[hash];\r\n\r\n    //别名触发钩子\r\n    /*if(this.routes[hash]) {\r\n        util.run(this.routes[hash].routerEnter, this, [path]);\r\n        util.run(this.config.routerEnter, this, [path, el]);\r\n        util.run(this.routes[hash].routerEntered, this, [path]);\r\n        util.run(this.config.routerEntered, this, [path, el]);\r\n    }*/\r\n\r\n    //如果别名存在别名，递归使用\r\n    if(this.alias[alias]) {\r\n        return getPathAlias.apply(this, [alias, el]);\r\n    } else {\r\n        return alias;\r\n    }\r\n}\r\n\r\n/*保存节点信息*/\r\nfunction hideTmplEl(hash) {\r\n    const util = this.constructor.util;\r\n    /*如果不是匹配的路由视图，则不显示在路由视图中*/\r\n    util.each(this.routes[hash].view, (el, index) => {\r\n        this.routes[hash].temp.appendChild(el);\r\n    });\r\n    this.routes[hash].view = [];\r\n}\r\n\r\n/*显示节点信息*/\r\nfunction showTmplEl(hash) {\r\n\r\n    const util = this.constructor.util,\r\n        tmpl = this.constructor.tmpl,\r\n        view = this.routerView;\r\n\r\n    //更新view层\r\n    view.appendChild(this.routes[hash].temp);\r\n\r\n    //保存view层节点\r\n    util.each(tmpl.children(view), (el, index) => {\r\n        this.routes[hash].view.push(el);\r\n    });\r\n}\r\n\r\n//设置路由的scroll\r\nfunction setRouterScroll(hash) {\r\n    /*是否使用了保存之前的状态*/\r\n    if(this.config.keepLive && this.routes[hash].keepLive) {\r\n        setScrollTop.call(this, this.routes[hash].scrollTop);\r\n    } else {\r\n        setScrollTop.call(this, 0);\r\n    }\r\n}\r\n\r\n/*设置scrollTop*/\r\nfunction setScrollTop(num) {\r\n    const util = this.constructor.util;\r\n    if(!util.isNum(num)) return 0;\r\n    try {\r\n        document.body.scrollTop = parseFloat(num);\r\n    } catch(e) {\r\n        document.documentElement.scrollTop = parseFloat(num);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl-router/hash-change.js","//配置参数\r\nimport config from './config';\r\n//设置的handler\r\nimport {\r\n\tsetRouter,\r\n\tsetInstance,\r\n\tsetRouterLinkStatus,\r\n\tsetRouterAnchor,\r\n\tsetkeepLive,\r\n\tsetPaths,\r\n\tsetHashEvent\r\n} from './set';\r\n//路由初始\r\nexport default function init(opts) {\r\n\r\n\tconst util = this.constructor.util,\r\n\t   tmpl = this.constructor.tmpl;\r\n\t\r\n\tthis.routes = {};\r\n\t\r\n\t//把第一次的实例对象挂在到构造上\r\n\tthis.constructor.tmplRouter = this;\r\n\t\r\n\t//只有一次路由实例，挂载到tmpl上\r\n\tthis.constructor.tmpl.constructor.router = this;\r\n\r\n\tthis.config = util.extend(util.deepCopy(config), opts);\r\n\t\r\n\tthis.routerView = tmpl.getEl(this.config.routerView);\r\n\r\n\tsetRouter.call(this, this.config.routes ? this.config.routes : {});\r\n\r\n\tsetInstance.call(this, 'methods'); //设置methods\r\n\r\n\tsetInstance.call(this, 'data'); //设置data\r\n\r\n\tsetRouterLinkStatus.call(this); //设置路由链接的状态\r\n\r\n\tsetRouterAnchor.call(this, this.config.anchorTime); //设置路由的锚点形式\r\n\r\n\tsetkeepLive.call(this); //设置保持状态\r\n\r\n\tsetPaths.call(this, this.routes); //处理路由详情 \r\n\r\n\tsetHashEvent.call(this); //设置hash\r\n\r\n\tutil.run(this.config.created, this); //所有创建后的钩子\r\n\r\n\tthis.hashChange(); //初始化好了初始化hash\r\n\r\n\tutil.run(this.config.mounted, this); //所有完毕后的钩子\r\n\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl-router/init.js","//设置路由的路径\r\nexport function setRouter(routers, path) {\r\n\r\n    const util = this.constructor.util,\r\n        _path = (path ? path : '');\r\n\r\n    util.each(routers, (router, index) => {\r\n        if(router.path === undefined) return;\r\n        const __path = _path + router.path;\r\n        if(util.isArray(router.modules)) {\r\n            setRouter.apply(this, [router.modules, __path]);\r\n        }\r\n        this.routes[__path] = router;\r\n        delete router.modules;\r\n    });\r\n}\r\n\r\n//设置data和methods方法\r\nexport function setInstance(type) {\r\n\r\n    const util = this.constructor.util,\r\n        get = this.config[type];\r\n\r\n    if(!util.isObjcet(get)) {\r\n        return;\r\n    }\r\n\r\n    util.each(get, (_get, key) => {\r\n        this[key] = _get;\r\n    });\r\n}\r\n\r\n/*设置路由的状态是够允许跳转*/\r\nexport function setRouterLinkStatus() {\r\n\r\n    const util = this.constructor.util;\r\n\r\n    const tmpl = this.constructor.tmpl;\r\n\r\n    this.changeRoutereStatus(true);\r\n\r\n    const routerBtns = tmpl.getEls(this.config.routerLink); //获取路由绑定的节点\r\n\r\n    util.each(routerBtns, (routerBtn, index) => {\r\n        util.on(routerBtn, 'click', (event) => {\r\n            const path = tmpl.attr(routerBtn, 'href'),\r\n                hash = this.getHash(path);\r\n            if(!(this.getHash(this.$lastRouter) === hash)) {\r\n                //点击路由链接触发的钩子\r\n                util.run(this.config.triggerRouter, this, [path, routerBtn]);\r\n            }\r\n            if(!this.routerStatus) {\r\n                event.preventDefault();\r\n            } else {\r\n                this.redirect(path);\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n/*设置路由的锚点形式*/\r\nexport function setRouterAnchor(time) {\r\n    const util = this.constructor.util,\r\n        tmpl = this.constructor.tmpl;\r\n\r\n    function stopScroll(event) {\r\n        event.preventDefault();\r\n    }\r\n\r\n    //获取路由绑定的节点\r\n    tmpl.on(document, this.config.routerAnchor, 'click', (event, el) => {\r\n\r\n        const anchorId = tmpl.attr(el, this.config.routerAnchorAttr),\r\n            anchorEl = tmpl.getEl(anchorId);\r\n\r\n        let anchorOffsetTop = tmpl.attr(el, this.config.routerAnchorTop);\r\n\r\n        anchorOffsetTop = util.isNum(anchorOffsetTop) ? Number(anchorOffsetTop) : 0;\r\n\r\n        if(util.isEl(anchorEl)) {\r\n            //定义滑动阻止默认动作\r\n            window.addEventListener('mousewheel', stopScroll);\r\n\r\n            tmpl.animate(document, {\r\n                'scrollTop': tmpl.offset(anchorEl).top + anchorOffsetTop\r\n            }, time, function() {\r\n                window.removeEventListener('mousewheel', stopScroll);\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\n/*设置保持状态*/\r\nexport function setkeepLive() {\r\n    const util = this.constructor.util;\r\n    if(!this.config.keepLive) return;\r\n    util.on(window, 'scroll', (event) => {\r\n        if(this.routes[this.currentRouter] && this.routes[this.currentRouter].keepLive) {\r\n            this.routes[this.currentRouter].scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\r\n        }\r\n    });\r\n}\r\n\r\n//初始处理路由信息\r\nexport function setPaths(routes) {\r\n\r\n    const util = this.constructor.util;\r\n\r\n    this.alias = {};\r\n\r\n    util.each(routes, (router, path) => {\r\n\r\n        const alias = router.alias;\r\n\r\n        this.routes[path].view = []; //设置视图节点\r\n\r\n        //如果设置了全局的keepLive，就会默认设置保持节点为true,全局设定状态的时候是支持保持状态的\r\n        if(this.config.keepLive && this.routes[path].keepLive === undefined) {\r\n            this.routes[path].keepLive = true;\r\n        }\r\n\r\n        this.routes[path].temp = document.createDocumentFragment(); //设置临时存放节点\r\n\r\n        //存在别名\r\n        if(alias) {\r\n            this.alias[alias] = path;\r\n        }\r\n    });\r\n}\r\n\r\n//设置hash\r\nexport function setHashEvent() {\r\n\r\n    const tmpl = this.constructor.tmpl;\r\n\r\n    if(!this.constructor.hasTmplRouter) {\r\n        //修改hash时触发修改\r\n        window.onhashchange = (event) => {\r\n            this.hashChange();\r\n            tmpl.preventDefault(event);\r\n        }\r\n        this.constructor.hasTmplRouter = true;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl-router/set.js"],"sourceRoot":""}