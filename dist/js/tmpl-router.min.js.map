{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///js/tmpl-router.min.js","webpack:///webpack/bootstrap eb9247b151ffd1addd90?eb70","webpack:///./src/tmpl-router/tmpl-router.js?cfe3","webpack:///./src/index.js?9552","webpack:///./src/tmpl-router/config.js?426d","webpack:///./src/tmpl-router/get-tmpl.js?a4e4","webpack:///./src/tmpl-router/hash-change.js?6582","webpack:///./src/tmpl-router/init.js?10ed","webpack:///./src/tmpl-router/set.js?a02b"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","_init2","_init3","_hashChange2","_hashChange3","_getTmpl2","_getTmpl3","TmplRouter","opts","constructor","hasTmplRouter","tmplRouter","init","routerOpts","_this","fn","isObj","each","opt","router","setPaths","page","isNum","history","go","hash","replace","href","location","split","join","searchs","isStr","query","search","_search","index","temp","el","tmpl","path","attr","e","serialize","undefined","window","status","routerStatus","Tmpl","installed","install","_tmplRouter","_tmplRouter2","global","demand","version","config","routerLink","routerLinkActive","routerView","routerAnchor","routerAnchorAttr","routerAnchorTop","anchorTime","data","methods","getTmpl","childNodes","tmplUrl","tmplId","$","ajax","async","url","success","appendChild","create","filterTextNode","changeRoutereStatus","error","html","getEl","parentEl","nodeType","textContent","trim","remove","protoHashChange","getHash","routerBtns","getEls","hasAlias","alias","getPathAlias","apply","run","routerEnter","hashChange","alinkEl","lastRouter","hideTmplEl","showTmplEl","setRouterStatus","currentRouter","addClass","keepLive","setScrollTop","removeClass","routerEntered","_this2","_this3","view","children","push","num","document","body","scrollTop","parseFloat","documentElement","extend","copy","_config2","_set","setRouter","setInstance","setRouterLinkStatus","setRouterAnchor","setkeepLive","setHashEvent","created","mounted","_config","routers","_path","type","_get","routerBtn","on","event","triggerRouter","preventDefault","time","stopScroll","_this4","anchorId","anchorEl","anchorOffsetTop","Number","isEl","addEventListener","animate","offset","top","removeEventListener","_this5","routes","_this6","createDocumentFragment","_this7","onhashchange"],"mappings":"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","file":"./js/tmpl-router.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"TmplRourt\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"TmplRourt\"] = factory();\n\telse\n\t\troot[\"TmplRourt\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","/*!\n * \n * \t\t\ttmpl-router.js v1.0.2\n * \t\t\t(c) 2016-2017 Blue\n * \t\t\tReleased under the MIT License.\n * \t\t\thttps://github.com/azhanging/tmpl-router\n * \t\t\ttime:Mon Sep 11 2017 15:31:28 GMT+0800 (中国标准时间)\n * \t\t\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"TmplRourt\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"TmplRourt\"] = factory();\n\telse\n\t\troot[\"TmplRourt\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); //初始化\n\n//hashChange\n\n//动态加载模板\n\n\nvar _init2 = __webpack_require__(5);\n\nvar _init3 = _interopRequireDefault(_init2);\n\nvar _hashChange2 = __webpack_require__(4);\n\nvar _hashChange3 = _interopRequireDefault(_hashChange2);\n\nvar _getTmpl2 = __webpack_require__(3);\n\nvar _getTmpl3 = _interopRequireDefault(_getTmpl2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\r\n * 路由构造\r\n * \r\n * */\nvar TmplRouter = function () {\n\tfunction TmplRouter(opts) {\n\t\t_classCallCheck(this, TmplRouter);\n\n\t\t//如果已经实例化了一次，直接返回实例化的路由\n\t\tif (this.constructor.hasTmplRouter) {\n\t\t\treturn this.constructor.tmplRouter;\n\t\t};\n\t\tthis.init(opts);\n\t}\n\n\t//安装插件\n\n\n\t_createClass(TmplRouter, [{\n\t\tkey: 'init',\n\t\tvalue: function init(opts) {\n\t\t\t_init3.default.call(this, opts);\n\t\t}\n\n\t\t/*设置路由路径*/\n\n\t}, {\n\t\tkey: 'set',\n\t\tvalue: function set(routerOpts) {\n\t\t\tvar _this = this;\n\n\t\t\tvar fn = this.constructor.fn;\n\t\t\tif (fn.isObj(routerOpts)) {\n\t\t\t\tfn.each(routerOpts, function (opt, key) {\n\t\t\t\t\t_this.router[key] = opt;\n\t\t\t\t});\n\t\t\t}\n\t\t\t//设置路由配置\n\t\t\tsetPaths.call(this, routerOpts);\n\t\t\treturn this;\n\t\t}\n\n\t\t//hash改变调用\n\n\t}, {\n\t\tkey: 'hashChange',\n\t\tvalue: function hashChange() {\n\t\t\t_hashChange3.default.call(this);\n\t\t}\n\t}, {\n\t\tkey: 'go',\n\t\tvalue: function go(page) {\n\t\t\tvar fn = this.constructor.fn;\n\t\t\tif (fn.isNum(page)) history.go(page);\n\t\t}\n\t}, {\n\t\tkey: 'redirect',\n\t\tvalue: function redirect(hash) {\n\t\t\thash = hash.replace('#', '');\n\t\t\tvar href = location.href.split('#');\n\t\t\tif (hash === '/') {\n\t\t\t\tlocation.href = href[0];\n\t\t\t} else {\n\t\t\t\thref[1] = hash;\n\t\t\t\tlocation.href = href.join('#');\n\t\t\t}\n\t\t}\n\n\t\t/*获取模板*/\n\n\t}, {\n\t\tkey: 'getTmpl',\n\t\tvalue: function getTmpl(hash) {\n\t\t\t_getTmpl3.default.call(this, hash);\n\t\t}\n\n\t\t/*返回参数对象*/\n\n\t}, {\n\t\tkey: 'query',\n\t\tvalue: function query(searchs) {\n\t\t\tvar fn = this.constructor.fn;\n\t\t\tif (!fn.isStr(searchs)) return {};\n\t\t\tvar query = {},\n\t\t\t    search = searchs.split('&');\n\t\t\tfn.each(search, function (_search, index) {\n\t\t\t\tvar temp = _search.split('=');\n\t\t\t\tif (temp.length !== 1) {\n\t\t\t\t\tvar key = temp[0];\n\t\t\t\t\tvar value = temp[1];\n\t\t\t\t\tquery[key] = value;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn query;\n\t\t}\n\n\t\t/*获取|设置hash-url参数*/\n\n\t}, {\n\t\tkey: 'search',\n\t\tvalue: function search(el, _search2) {\n\n\t\t\tvar fn = this.constructor.fn,\n\t\t\t    tmpl = this.constructor.tmpl;\n\n\t\t\tvar path = '';\n\n\t\t\ttry {\n\t\t\t\tpath = tmpl.attr(el, 'href').split('?');\n\t\t\t} catch (e) {\n\t\t\t\tpath = el.split('?');\n\t\t\t}\n\n\t\t\tif (_search2) {\n\t\t\t\tif (fn.isObj(_search2)) {\n\t\t\t\t\t_search2 = fn.serialize(_search2);\n\t\t\t\t}\n\t\t\t\tpath[1] = _search2;\n\t\t\t\ttmpl.attr(el, {\n\t\t\t\t\thref: path.join('?')\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn path[1];\n\t\t\t}\n\t\t}\n\n\t\t/*分离hash和hash-search，只取hash*/\n\n\t}, {\n\t\tkey: 'getHash',\n\t\tvalue: function getHash(hash) {\n\t\t\tif (hash === undefined) {\n\t\t\t\thash = window.location.hash.replace('#', '');\n\t\t\t}\n\t\t\tvar path = hash.replace('#', '').split('?');\n\t\t\treturn path[0];\n\t\t}\n\n\t\t/* 修改路由link的点击的状态 */\n\n\t}, {\n\t\tkey: 'changeRoutereStatus',\n\t\tvalue: function changeRoutereStatus(status) {\n\t\t\tthis.routerStatus = status;\n\t\t}\n\t}], [{\n\t\tkey: 'install',\n\t\tvalue: function install(Tmpl) {\n\n\t\t\t//检查是否安装过路由了\n\t\t\tif (this.installed) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tthis.installed = true;\n\n\t\t\tthis.tmpl = new Tmpl({});\n\n\t\t\tthis.fn = this.tmpl.fn;\n\t\t}\n\t}]);\n\n\treturn TmplRouter;\n}();\n\n//查看是否在全局中存在插件\n\n\nif (window.Tmpl && typeof Tmpl === 'function') {\n\tTmplRouter.install(Tmpl);\n}\n\nexports.default = TmplRouter;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _tmplRouter = __webpack_require__(0);\n\nvar _tmplRouter2 = _interopRequireDefault(_tmplRouter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function (global, factory) {\n\tif (typeof demand === 'function') {\n\t\tdemand.define('tmpl-router', factory);\n\t}\n})(typeof window !== 'undefined' ? window : undefined, function () {\n\n\t_tmplRouter2.default.version = \"v1.0.3\";\n\n\treturn _tmplRouter2.default;\n}); //Tmpl 文件入口\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n/*默认配置*/\nvar config = {\n\trouterLink: 'tmpl-router', //.tmpl-router                       \n\trouterLinkActive: 'tmpl-router-active', //.tmpl-router-active\n\trouterView: 'tmpl-router-view', //#tmpl-router-view\n\trouterAnchor: 'tmpl-router-anchor', //锚点用的class\n\trouterAnchorAttr: 'tmpl-anchor', //路由锚点的id属性\n\trouterAnchorTop: 'tmpl-anchor-top', //路由锚点的差点\n\tanchorTime: 1000, //默认锚点路由 1000/17\n\tdata: {},\n\tmethods: {}\n};\n\nexports.default = config;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = getTmpl;\n/*\r\n *\t动态加载模板 \r\n * */\n\nfunction getTmpl(hash) {\n\n\tvar fn = this.constructor.fn;\n\n\tvar tmpl = this.constructor.tmpl;\n\n\tvar _this = this;\n\n\t//查看当前的路由 模板是否加载回来了\n\tif (!this.router[hash] || this.router[hash]['view'].length > 0 || this.router[hash]['temp'].childNodes.length > 0) return;\n\n\tvar tmplUrl = this.router[hash]['tmplUrl']; //获取请求的url\n\n\tvar tmplId = this.router[hash]['tmplId']; //获取静态模板的id\n\n\t/*动态模板*/\n\tif (tmplUrl) {\n\t\ttry {\n\t\t\t$.ajax({\n\t\t\t\tasync: false,\n\t\t\t\turl: tmplUrl,\n\t\t\t\tsuccess: function success(data) {\n\t\t\t\t\t_this.router[hash]['temp'].appendChild(tmpl.create(data.tmpl));\n\t\t\t\t\tfilterTextNode.call(_this, _this.router[hash]['temp']);\n\t\t\t\t\t_this.changeRoutereStatus(false);\n\t\t\t\t},\n\t\t\t\terror: function error(data) {\n\t\t\t\t\t_this.changeRoutereStatus(true);\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tfn.ajax({\n\t\t\t\tasync: false,\n\t\t\t\turl: tmplUrl,\n\t\t\t\tsuccess: function success(data) {\n\t\t\t\t\t_this.router[hash]['temp'].appendChild(tmpl.create(data.tmpl));\n\t\t\t\t\tfilterTextNode.call(_this, _this.router[hash]['temp']);\n\t\t\t\t\t_this.changeRoutereStatus(false);\n\t\t\t\t},\n\t\t\t\terror: function error(data) {\n\t\t\t\t\t_this.changeRoutereStatus(true);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t} else if (tmplId) {\n\t\ttry {\n\t\t\tthis.router[hash]['temp'].appendChild(tmpl.create(tmpl.html(fn.getEl(tmplId)))); //非动态模板\t\n\t\t} catch (e) {\n\t\t\tthis.router[hash]['temp'].appendChild(tmpl.create(''));\n\t\t}\n\t\tthis.changeRoutereStatus(true);\n\t}\n}\n\n/*清空空的文本节点*/\nfunction filterTextNode(parentEl) {\n\n\tvar fn = this.constructor.fn;\n\n\tvar tmpl = this.constructor.tmpl;\n\n\tfn.each(parentEl.childNodes, function (el, index) {\n\t\tif (el && el.nodeType === 3 && el.textContent.trim() === '') {\n\t\t\ttmpl.remove(el);\n\t\t}\n\t});\n}\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = protoHashChange;\n/*\r\n *\t路由中的hash方法处理\r\n * */\nfunction protoHashChange() {\n\n\tvar fn = this.constructor.fn;\n\n\tvar path = window.location.hash.replace('#', '');\n\n\tvar hash = this.getHash(path); //获取hash\n\n\tvar routerBtns = fn.getEls(this.config.routerLink); //获取路由绑定的节点\n\n\tvar hasAlias = false; //是否有别名\n\n\tif (hash === '') hash = '/'; //如果不存在hash设置为根目录\n\n\t//走别名路由\n\tif (this.alias[hash]) {\n\t\thasAlias = true;\n\t\thash = getPathAlias.apply(this, [hash === '/' ? hash : path, null]); //判断是不是别名的路由\t\n\t}\n\n\tif (routerBtns.length === 0) return this; //存在路由绑定\n\n\tif (!this.alias[hash] && !this.router[hash]) {\n\t\t//error页面\n\t\tfn.run(this.config.error, this);\n\t\treturn;\n\t}\n\n\t/*路由进入的钩子*/\n\tfn.run(this.config.routerEnter, this, [path]);\n\n\t/*如果是存在别名路径，返回代理的那个路径*/\n\thashChange.apply(this, [routerBtns, hasAlias ? hash : path]);\n}\n\n/*hashChange的处理*/\nfunction hashChange(routerBtns, path) {\n\tvar _this = this;\n\n\tvar fn = this.constructor.fn,\n\t    tmpl = this.constructor.tmpl,\n\t    hash = this.getHash(path);\n\n\tvar alinkEl = null;\n\n\tthis.getTmpl(hash); //默认动态加载模块\n\n\t//是否存在最后一个路由地址\n\tif (this.lastRouter) {\n\t\t/*如果不是匹配的路由视图，则不显示在路由视图中*/\n\t\thideTmplEl.call(this, this.lastRouter);\n\t}\n\n\tthis.lastRouter = hash; //记录最后的路由路径\n\n\tshowTmplEl.apply(this, [hash]); //显示路由的view\n\n\tsetRouterStatus.call(this, hash); //设置路由的链接状态\n\n\t//修改对应的状态\n\tfn.each(routerBtns, function (el, index) {\n\t\tvar path = tmpl.attr(el, 'href'),\n\t\t    href = _this.getHash(path);\n\n\t\tif (href === hash) {\n\t\t\t_this.currentRouter = href; //保存当前的路由\n\n\t\t\talinkEl = el; //保存按钮节点\n\n\t\t\ttmpl.addClass(el, _this.config.routerLinkActive); //修改路由link的样式\n\n\t\t\t/*是否使用了保存之前的状态*/\n\t\t\tif (_this.config.keepLive && _this.router[href]['keepLive']) {\n\t\t\t\tsetScrollTop.call(_this, _this.router[href]['scrollTop']);\n\t\t\t} else {\n\t\t\t\tsetScrollTop.call(_this, 0);\n\t\t\t}\n\t\t} else {\n\t\t\t/*存在配置路由*/\n\t\t\tif (_this.router[href]) {\n\t\t\t\thideTmplEl.call(_this, href); //如果不是匹配的路由视图，则不显示在路由视图中\n\t\t\t}\n\t\t\ttmpl.removeClass(el, _this.config.routerLinkActive);\n\t\t}\n\n\t\t/*如果设置的节点没有绑定到对应的节点上*/\n\t\tif (!alinkEl) {\n\t\t\t_this.currentRouter = hash;\n\t\t}\n\t});\n\t//调用钩子\n\tfn.run(this.config.routerEntered, this, [path, alinkEl]);\n}\n\n/*检查当前路径是否存在别名*/\nfunction getPathAlias(path, el) {\n\n\tvar fn = this.constructor.fn,\n\t    hash = this.getHash(path),\n\t    alias = this.alias[hash];\n\n\t//别名触发钩子\n\tif (this.router[hash]) {\n\t\tfn.run(this.config.routerEnter, this, [path, el]);\n\t\tfn.run(this.config.routerEntered, this, [path, el]);\n\t}\n\n\t//如果别名存在别名，递归使用\n\tif (this.alias[alias]) {\n\t\treturn getPathAlias.apply(this, [alias, el]);\n\t} else {\n\t\treturn alias;\n\t}\n}\n\n/*保存节点信息*/\nfunction hideTmplEl(hash) {\n\tvar _this2 = this;\n\n\tvar fn = this.constructor.fn;\n\t/*如果不是匹配的路由视图，则不显示在路由视图中*/\n\tfn.each(this.router[hash]['view'], function (el, index) {\n\t\t_this2.router[hash]['temp'].appendChild(el);\n\t});\n\tthis.router[hash]['view'] = [];\n}\n\n/*显示节点信息*/\nfunction showTmplEl(hash) {\n\tvar _this3 = this;\n\n\tvar fn = this.constructor.fn,\n\t    tmpl = this.constructor.tmpl,\n\t    view = this.routerView;\n\n\tview.appendChild(this.router[hash]['temp']); //更新view层\n\n\tfn.each(tmpl.children(view), function (el, index) {\n\t\t//保存view层节点\n\t\t_this3.router[hash]['view'].push(el);\n\t});\n}\n\n/* 设置路由的状态，针对没有方法加载的路由模板中存在方法的 */\nfunction setRouterStatus(hash) {\n\t/*修改路由状态*/\n\tif (this.router[hash]['routerStatus'] == true) {\n\t\tthis.changeRoutereStatus(true);\n\t}\n}\n\n/*设置scrollTop*/\nfunction setScrollTop(num) {\n\tvar fn = this.constructor.fn;\n\tif (!fn.isNum(num)) return 0;\n\ttry {\n\t\tdocument.body.scrollTop = parseFloat(num);\n\t} catch (e) {\n\t\tdocument.documentElement.scrollTop = parseFloat(num);\n\t}\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = init;\n\nvar _config = __webpack_require__(2);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _set = __webpack_require__(6);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//路由初始\n//配置参数\nfunction init(opts) {\n\n\tvar fn = this.constructor.fn;\n\n\tthis.router = {};\n\n\t//把第一次的实例对象挂在到构造上\n\tthis.constructor.tmplRouter = this;\n\n\t//只有一次路由实例，挂载到tmpl上\n\tthis.constructor.tmpl.constructor.router = this;\n\n\tthis.config = fn.extend(fn.copy(_config2.default), opts);\n\n\tthis.routerView = fn.getEl(this.config.routerView);\n\n\t_set.setRouter.call(this, this.config.router ? this.config.router : {});\n\n\t_set.setInstance.call(this, 'methods'); //设置methods\n\n\t_set.setInstance.call(this, 'data'); //设置data\n\n\t_set.setRouterLinkStatus.call(this); //设置路由链接的状态\n\n\t_set.setRouterAnchor.call(this, this.config.anchorTime); //设置路由的锚点形式\n\n\t_set.setkeepLive.call(this); //设置保持状态\n\n\t_set.setPaths.call(this, this.router); //处理路由详情 \n\n\t_set.setHashEvent.call(this); //设置hash\n\n\tfn.run(this.config.created, this); //所有创建后的钩子\n\n\tthis.hashChange(); //初始化好了初始化hash\n\n\tfn.run(this.config.mounted, this); //所有完毕后的钩子\n}\n//设置的handler\n;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.setRouter = setRouter;\nexports.setInstance = setInstance;\nexports.setRouterLinkStatus = setRouterLinkStatus;\nexports.setRouterAnchor = setRouterAnchor;\nexports.setkeepLive = setkeepLive;\nexports.setPaths = setPaths;\nexports.setHashEvent = setHashEvent;\n//设置路由的路径\nfunction setRouter(routers, path) {\n\tvar _this = this;\n\n\tvar fn = this.constructor.fn,\n\t    _path = path ? path : '';\n\n\tfn.each(routers, function (router, key) {\n\t\tif (fn.isObj(router.modules)) {\n\t\t\tsetRouter.apply(_this, [router.modules, _path + key]);\n\t\t}\n\t\t_this.router[_path + key] = router;\n\t\tdelete router['modules'];\n\t});\n}\n\n//设置data和methods方法\nfunction setInstance(type) {\n\tvar _this2 = this;\n\n\tvar fn = this.constructor.fn,\n\t    get = this.config[type];\n\n\tif (!fn.isObj(get)) {\n\t\treturn;\n\t}\n\n\tfn.each(get, function (_get, key) {\n\t\t_this2[key] = _get;\n\t});\n}\n\n/*设置路由的状态是够允许跳转*/\nfunction setRouterLinkStatus() {\n\tvar _this3 = this;\n\n\tvar fn = this.constructor.fn;\n\n\tvar tmpl = this.constructor.tmpl;\n\n\tthis.changeRoutereStatus(true);\n\n\tvar routerBtns = fn.getEls(this.config.routerLink); //获取路由绑定的节点\n\n\tfn.each(routerBtns, function (routerBtn, index) {\n\t\tfn.on(routerBtn, 'click', function (event) {\n\t\t\tvar path = tmpl.attr(routerBtn, 'href'),\n\t\t\t    hash = _this3.getHash(path);\n\t\t\tif (!(_this3.lastRouter === hash)) {\n\t\t\t\t//点击路由链接触发的钩子\n\t\t\t\tfn.run(_this3.config.triggerRouter, _this3, [path, routerBtn]);\n\t\t\t}\n\t\t\tif (!_this3.routerStatus) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t});\n\t});\n}\n\n/*设置路由的锚点形式*/\nfunction setRouterAnchor(time) {\n\tvar _this4 = this;\n\n\tvar fn = this.constructor.fn,\n\t    tmpl = this.constructor.tmpl;\n\n\tfunction stopScroll(event) {\n\t\tevent.preventDefault();\n\t}\n\n\t//获取路由绑定的节点\n\ttmpl.on(document, this.config.routerAnchor, 'click', function (event, el) {\n\n\t\tvar anchorId = tmpl.attr(el, _this4.config.routerAnchorAttr),\n\t\t    anchorEl = fn.getEl(anchorId);\n\n\t\tvar anchorOffsetTop = tmpl.attr(el, _this4.config.routerAnchorTop);\n\n\t\tanchorOffsetTop = fn.isNum(anchorOffsetTop) ? Number(anchorOffsetTop) : 0;\n\n\t\tif (fn.isEl(anchorEl)) {\n\t\t\t//定义滑动阻止默认动作\n\t\t\twindow.addEventListener('mousewheel', stopScroll);\n\n\t\t\ttmpl.animate(document, {\n\t\t\t\t'scrollTop': tmpl.offset(anchorEl).top + anchorOffsetTop\n\t\t\t}, time, function () {\n\t\t\t\twindow.removeEventListener('mousewheel', stopScroll);\n\t\t\t});\n\t\t}\n\t});\n}\n\n/*设置保持状态*/\nfunction setkeepLive() {\n\tvar _this5 = this;\n\n\tvar fn = this.constructor.fn;\n\tif (!this.config.keepLive) return;\n\tfn.on(window, 'scroll', function (event) {\n\t\tif (_this5.router[_this5.currentRouter] && _this5.router[_this5.currentRouter]['keepLive']) {\n\t\t\t_this5.router[_this5.currentRouter]['scrollTop'] = document.body.scrollTop || document.documentElement.scrollTop;\n\t\t}\n\t});\n}\n\n//初始处理路由信息\nfunction setPaths(routes) {\n\tvar _this6 = this;\n\n\tvar fn = this.constructor.fn;\n\n\tthis.alias = {};\n\n\tfn.each(routes, function (router, path) {\n\n\t\tvar alias = router.alias;\n\n\t\t_this6.router[path]['view'] = []; //设置视图节点\n\n\t\t//如果设置了全局的keepLive，就会默认设置保持节点为true,全局设定状态的时候是支持保持状态的\n\t\tif (_this6.config.keepLive && _this6.router[path]['keepLive'] === undefined) {\n\t\t\t_this6.router[path]['keepLive'] = true;\n\t\t}\n\n\t\t_this6.router[path]['temp'] = document.createDocumentFragment(); //设置临时存放节点\n\n\t\t//存在别名\n\t\tif (alias) {\n\t\t\t_this6.alias[alias] = path;\n\t\t}\n\t});\n}\n\n//设置hash\nfunction setHashEvent() {\n\tvar _this7 = this;\n\n\tvar tmpl = this.constructor.tmpl;\n\n\tif (!this.constructor.hasTmplRouter) {\n\t\t//修改hash时触发修改\n\t\twindow.onhashchange = function (event) {\n\t\t\t_this7.hashChange();\n\t\t\ttmpl.preventDefault(event);\n\t\t};\n\t\tthis.constructor.hasTmplRouter = true;\n\t}\n}\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// js/tmpl-router.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap eb9247b151ffd1addd90","//初始化\r\nimport init from './init';\r\n//hashChange\r\nimport hashChange from './hash-change';\r\n//动态加载模板\r\nimport getTmpl from './get-tmpl';\r\n\r\n/*\r\n * 路由构造\r\n * \r\n * */\r\nclass TmplRouter {\r\n\tconstructor(opts) {\r\n\t\t//如果已经实例化了一次，直接返回实例化的路由\r\n\t\tif(this.constructor.hasTmplRouter) {\r\n\t\t\treturn this.constructor.tmplRouter;\r\n\t\t};\r\n\t\tthis.init(opts);\r\n\t}\r\n\r\n\t//安装插件\r\n\tstatic install(Tmpl) {\r\n\r\n\t\t//检查是否安装过路由了\r\n\t\tif(this.installed) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tthis.installed = true;\r\n\r\n\t\tthis.tmpl = new Tmpl({});\r\n\r\n\t\tthis.fn = this.tmpl.fn;\r\n\t}\r\n\r\n\tinit(opts) {\r\n\t\tinit.call(this, opts)\r\n\t}\r\n\r\n\t/*设置路由路径*/\r\n\tset(routerOpts) {\r\n\t\tconst fn = this.constructor.fn;\r\n\t\tif(fn.isObj(routerOpts)) {\r\n\t\t\tfn.each(routerOpts, (opt, key) => {\r\n\t\t\t\tthis.router[key] = opt;\r\n\t\t\t});\r\n\t\t}\r\n\t\t//设置路由配置\r\n\t\tsetPaths.call(this, routerOpts);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t//hash改变调用\r\n\thashChange() {\r\n\t\thashChange.call(this);\r\n\t}\r\n\r\n\tgo(page) {\r\n\t\tconst fn = this.constructor.fn;\r\n\t\tif(fn.isNum(page)) history.go(page);\r\n\t}\r\n\r\n\tredirect(hash) {\r\n\t\thash = hash.replace('#', '');\r\n\t\tconst href = location.href.split('#');\r\n\t\tif(hash === '/') {\r\n\t\t\tlocation.href = href[0];\r\n\t\t} else {\r\n\t\t\thref[1] = hash;\r\n\t\t\tlocation.href = href.join('#');\r\n\t\t}\r\n\t}\r\n\r\n\t/*获取模板*/\r\n\tgetTmpl(hash) {\r\n\t\tgetTmpl.call(this, hash);\r\n\t}\r\n\r\n\t/*返回参数对象*/\r\n\tquery(searchs) {\r\n\t\tconst fn = this.constructor.fn;\r\n\t\tif(!fn.isStr(searchs)) return {};\r\n\t\tconst query = {},\r\n\t\t\tsearch = searchs.split('&');\r\n\t\tfn.each(search, function(_search, index) {\r\n\t\t\tvar temp = _search.split('=');\r\n\t\t\tif(temp.length !== 1) {\r\n\t\t\t\tvar key = temp[0];\r\n\t\t\t\tvar value = temp[1];\r\n\t\t\t\tquery[key] = value;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn query;\r\n\t}\r\n\r\n\t/*获取|设置hash-url参数*/\r\n\tsearch(el, search) {\r\n\r\n\t\tconst fn = this.constructor.fn,\r\n\t\t\ttmpl = this.constructor.tmpl;\r\n\r\n\t\tlet path = '';\r\n\r\n\t\ttry {\r\n\t\t\tpath = tmpl.attr(el, 'href').split('?');\r\n\t\t} catch(e) {\r\n\t\t\tpath = el.split('?');\r\n\t\t}\r\n\r\n\t\tif(search) {\r\n\t\t\tif(fn.isObj(search)) {\r\n\t\t\t\tsearch = fn.serialize(search);\r\n\t\t\t}\r\n\t\t\tpath[1] = search;\r\n\t\t\ttmpl.attr(el, {\r\n\t\t\t\thref: path.join('?')\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\treturn path[1];\r\n\t\t}\r\n\t}\r\n\r\n\t/*分离hash和hash-search，只取hash*/\r\n\tgetHash(hash) {\r\n\t\tif(hash === undefined) {\r\n\t\t\thash = window.location.hash.replace('#', '');\r\n\t\t}\r\n\t\tconst path = hash.replace('#', '').split('?');\r\n\t\treturn path[0];\r\n\t}\r\n\r\n\t/* 修改路由link的点击的状态 */\r\n\tchangeRoutereStatus(status) {\r\n\t\tthis.routerStatus = status;\r\n\t}\r\n}\r\n\r\n//查看是否在全局中存在插件\r\nif(window.Tmpl && typeof Tmpl === 'function') {\r\n\tTmplRouter.install(Tmpl);\r\n}\r\n\r\nexport default TmplRouter;\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl-router/tmpl-router.js","//Tmpl 文件入口\r\nimport TmplRouter from './tmpl-router/tmpl-router';\r\n\r\n(function(global, factory) {\r\n\tif(typeof demand === 'function') {\r\n\t\tdemand.define('tmpl-router', factory);\r\n\t}\r\n})(typeof window !== 'undefined' ? window : this, function() {\r\n\r\n\tTmplRouter.version = \"v1.0.3\";\r\n\r\n\treturn TmplRouter;\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/*默认配置*/\r\nconst config = {\r\n\trouterLink: 'tmpl-router', //.tmpl-router                       \r\n\trouterLinkActive: 'tmpl-router-active', //.tmpl-router-active\r\n\trouterView: 'tmpl-router-view', //#tmpl-router-view\r\n\trouterAnchor: 'tmpl-router-anchor', //锚点用的class\r\n\trouterAnchorAttr:'tmpl-anchor',\t\t//路由锚点的id属性\r\n\trouterAnchorTop:'tmpl-anchor-top',//路由锚点的差点\r\n\tanchorTime: 1000, //默认锚点路由 1000/17\r\n\tdata: {},\r\n\tmethods: {}\r\n};\r\n\r\nexport default config;\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl-router/config.js","/*\r\n *\t动态加载模板 \r\n * */\r\n\r\nexport default function getTmpl(hash) {\r\n\r\n\tconst fn = this.constructor.fn;\r\n\r\n\tconst tmpl = this.constructor.tmpl;\r\n\r\n\tconst _this = this;\r\n    \r\n    //查看当前的路由 模板是否加载回来了\r\n\tif((!this.router[hash]) || this.router[hash]['view'].length > 0 || this.router[hash]['temp'].childNodes.length > 0) return; \r\n\r\n\tconst tmplUrl = this.router[hash]['tmplUrl']; //获取请求的url\r\n\r\n\tconst tmplId = this.router[hash]['tmplId']; //获取静态模板的id\r\n\r\n\t/*动态模板*/\r\n\tif(tmplUrl) {\r\n\t\ttry {\r\n\t\t\t$.ajax({\r\n\t\t\t\tasync: false,\r\n\t\t\t\turl: tmplUrl,\r\n\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t_this.router[hash]['temp'].appendChild(tmpl.create(data.tmpl));\r\n\t\t\t\t\tfilterTextNode.call(_this, _this.router[hash]['temp']);\r\n\t\t\t\t\t_this.changeRoutereStatus(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(data) {\r\n\t\t\t\t\t_this.changeRoutereStatus(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch(e) {\r\n\t\t\tfn.ajax({\r\n\t\t\t\tasync: false,\r\n\t\t\t\turl: tmplUrl,\r\n\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t_this.router[hash]['temp'].appendChild(tmpl.create(data.tmpl));\r\n\t\t\t\t\tfilterTextNode.call(_this, _this.router[hash]['temp']);\r\n\t\t\t\t\t_this.changeRoutereStatus(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(data) {\r\n\t\t\t\t\t_this.changeRoutereStatus(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t} else if(tmplId) {\r\n\t\ttry {\r\n\t\t\tthis.router[hash]['temp'].appendChild(tmpl.create(tmpl.html(fn.getEl(tmplId)))); //非动态模板\t\r\n\t\t} catch(e) {\r\n\t\t\tthis.router[hash]['temp'].appendChild(tmpl.create(''));\r\n\t\t}\r\n\t\tthis.changeRoutereStatus(true);\r\n\t}\r\n}\r\n\r\n/*清空空的文本节点*/\r\nfunction filterTextNode(parentEl) {\r\n\r\n\tconst fn = this.constructor.fn;\r\n\r\n\tconst tmpl = this.constructor.tmpl;\r\n\r\n\tfn.each(parentEl.childNodes, (el, index) => {\r\n\t\tif(el && el.nodeType === 3 && el.textContent.trim() === '') {\r\n\t\t\ttmpl.remove(el);\r\n\t\t}\r\n\t});\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl-router/get-tmpl.js","/*\r\n *\t路由中的hash方法处理\r\n * */\r\nexport default function protoHashChange() {\r\n\r\n\tconst fn = this.constructor.fn;\r\n\r\n\tconst path = window.location.hash.replace('#', '');\r\n\r\n\tlet hash = this.getHash(path); //获取hash\r\n\r\n\tconst routerBtns = fn.getEls(this.config.routerLink); //获取路由绑定的节点\r\n\r\n\tlet hasAlias = false; //是否有别名\r\n\r\n\tif(hash === '') hash = '/'; //如果不存在hash设置为根目录\r\n\r\n\t//走别名路由\r\n\tif(this.alias[hash]) {\r\n\t\thasAlias = true;\r\n\t\thash = getPathAlias.apply(this, [(hash === '/' ? hash : path), null]); //判断是不是别名的路由\t\r\n\t}\r\n\r\n\tif(routerBtns.length === 0) return this; //存在路由绑定\r\n\r\n\tif(!this.alias[hash] && !this.router[hash]) { //error页面\r\n\t\tfn.run(this.config.error, this);\r\n\t\treturn;\r\n\t}\r\n\r\n\t/*路由进入的钩子*/\r\n\tfn.run(this.config.routerEnter, this, [path]);\r\n\r\n\t/*如果是存在别名路径，返回代理的那个路径*/\r\n\thashChange.apply(this, [routerBtns, (hasAlias ? hash : path)]);\r\n}\r\n\r\n/*hashChange的处理*/\r\nfunction hashChange(routerBtns, path) {\r\n\r\n\tconst fn = this.constructor.fn,\r\n\t\ttmpl = this.constructor.tmpl,\r\n\t\thash = this.getHash(path);\r\n\r\n\tlet alinkEl = null;\r\n\r\n\tthis.getTmpl(hash); //默认动态加载模块\r\n\r\n\t//是否存在最后一个路由地址\r\n\tif(this.lastRouter) {\r\n\t\t/*如果不是匹配的路由视图，则不显示在路由视图中*/\r\n\t\thideTmplEl.call(this, this.lastRouter);\r\n\t}\r\n\r\n\tthis.lastRouter = hash; //记录最后的路由路径\r\n\r\n\tshowTmplEl.apply(this, [hash]); //显示路由的view\r\n\r\n\tsetRouterStatus.call(this, hash); //设置路由的链接状态\r\n\r\n\t//修改对应的状态\r\n\tfn.each(routerBtns, (el, index) => {\r\n\t\tconst path = tmpl.attr(el, 'href'),\r\n\t\t\thref = this.getHash(path);\r\n\r\n\t\tif(href === hash) {\r\n\t\t\tthis.currentRouter = href; //保存当前的路由\r\n\r\n\t\t\talinkEl = el; //保存按钮节点\r\n\r\n\t\t\ttmpl.addClass(el, this.config.routerLinkActive); //修改路由link的样式\r\n\r\n\t\t\t/*是否使用了保存之前的状态*/\r\n\t\t\tif(this.config.keepLive && this.router[href]['keepLive']) {\r\n\t\t\t\tsetScrollTop.call(this, this.router[href]['scrollTop']);\r\n\t\t\t} else {\r\n\t\t\t\tsetScrollTop.call(this, 0);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t/*存在配置路由*/\r\n\t\t\tif(this.router[href]) {\r\n\t\t\t\thideTmplEl.call(this, href); //如果不是匹配的路由视图，则不显示在路由视图中\r\n\t\t\t}\r\n\t\t\ttmpl.removeClass(el, this.config.routerLinkActive);\r\n\t\t}\r\n\r\n\t\t/*如果设置的节点没有绑定到对应的节点上*/\r\n\t\tif(!alinkEl) {\r\n\t\t\tthis.currentRouter = hash;\r\n\t\t}\r\n\t});\r\n\t//调用钩子\r\n\tfn.run(this.config.routerEntered, this, [path, alinkEl]);\r\n}\r\n\r\n/*检查当前路径是否存在别名*/\r\nfunction getPathAlias(path, el) {\r\n\r\n\tconst fn = this.constructor.fn,\r\n\t\thash = this.getHash(path),\r\n\t\talias = this.alias[hash];\r\n\r\n\t//别名触发钩子\r\n\tif(this.router[hash]) {\r\n\t\tfn.run(this.config.routerEnter, this, [path, el]);\r\n\t\tfn.run(this.config.routerEntered, this, [path, el]);\r\n\t}\r\n\r\n\t//如果别名存在别名，递归使用\r\n\tif(this.alias[alias]) {\r\n\t\treturn getPathAlias.apply(this, [alias, el]);\r\n\t} else {\r\n\t\treturn alias;\r\n\t}\r\n}\r\n\r\n/*保存节点信息*/\r\nfunction hideTmplEl(hash) {\r\n\tconst fn = this.constructor.fn;\r\n\t/*如果不是匹配的路由视图，则不显示在路由视图中*/\r\n\tfn.each(this.router[hash]['view'], (el, index) => {\r\n\t\tthis.router[hash]['temp'].appendChild(el);\r\n\t});\r\n\tthis.router[hash]['view'] = [];\r\n}\r\n\r\n/*显示节点信息*/\r\nfunction showTmplEl(hash) {\r\n\r\n\tconst fn = this.constructor.fn,\r\n\t\ttmpl = this.constructor.tmpl,\r\n\t\tview = this.routerView;\r\n\r\n\tview.appendChild(this.router[hash]['temp']); //更新view层\r\n\r\n\tfn.each(tmpl.children(view), (el, index) => { //保存view层节点\r\n\t\tthis.router[hash]['view'].push(el);\r\n\t});\r\n}\r\n\r\n/* 设置路由的状态，针对没有方法加载的路由模板中存在方法的 */\r\nfunction setRouterStatus(hash) {\r\n\t/*修改路由状态*/\r\n\tif(this.router[hash]['routerStatus'] == true) {\r\n\t\tthis.changeRoutereStatus(true);\r\n\t}\r\n}\r\n\r\n/*设置scrollTop*/\r\nfunction setScrollTop(num) {\r\n\tconst fn = this.constructor.fn;\r\n\tif(!fn.isNum(num)) return 0;\r\n\ttry {\r\n\t\tdocument.body.scrollTop = parseFloat(num);\r\n\t} catch(e) {\r\n\t\tdocument.documentElement.scrollTop = parseFloat(num);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl-router/hash-change.js","//配置参数\r\nimport config from './config';\r\n//设置的handler\r\nimport {\r\n\tsetRouter,\r\n\tsetInstance,\r\n\tsetRouterLinkStatus,\r\n\tsetRouterAnchor,\r\n\tsetkeepLive,\r\n\tsetPaths,\r\n\tsetHashEvent\r\n} from './set';\r\n//路由初始\r\nexport default function init(opts) {\r\n\r\n\tconst fn = this.constructor.fn;\r\n\t\r\n\tthis.router = {};\r\n\t\r\n\t//把第一次的实例对象挂在到构造上\r\n\tthis.constructor.tmplRouter = this;\r\n\t\r\n\t//只有一次路由实例，挂载到tmpl上\r\n\tthis.constructor.tmpl.constructor.router = this;\r\n\r\n\tthis.config = fn.extend(fn.copy(config), opts);\r\n\t\r\n\tthis.routerView = fn.getEl(this.config.routerView);\r\n\r\n\tsetRouter.call(this, this.config.router ? this.config.router : {});\r\n\r\n\tsetInstance.call(this, 'methods'); //设置methods\r\n\r\n\tsetInstance.call(this, 'data'); //设置data\r\n\r\n\tsetRouterLinkStatus.call(this); //设置路由链接的状态\r\n\r\n\tsetRouterAnchor.call(this, this.config.anchorTime); //设置路由的锚点形式\r\n\r\n\tsetkeepLive.call(this); //设置保持状态\r\n\r\n\tsetPaths.call(this, this.router); //处理路由详情 \r\n\r\n\tsetHashEvent.call(this); //设置hash\r\n\r\n\tfn.run(this.config.created, this); //所有创建后的钩子\r\n\r\n\tthis.hashChange(); //初始化好了初始化hash\r\n\r\n\tfn.run(this.config.mounted, this); //所有完毕后的钩子\r\n\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl-router/init.js","//设置路由的路径\r\nexport function setRouter(routers, path) {\r\n\r\n\tconst fn = this.constructor.fn,\r\n\t\t_path = (path ? path : '');\r\n\r\n\tfn.each(routers, (router, key) => {\r\n\t\tif(fn.isObj(router.modules)) {\r\n\t\t\tsetRouter.apply(this, [router.modules, _path + key]);\r\n\t\t}\r\n\t\tthis.router[_path + key] = router;\r\n\t\tdelete router['modules'];\r\n\t});\r\n}\r\n\r\n//设置data和methods方法\r\nexport function setInstance(type) {\r\n\r\n\tconst fn = this.constructor.fn,\r\n\t\tget = this.config[type];\r\n\r\n\tif(!fn.isObj(get)) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tfn.each(get, (_get, key) => {\r\n\t\tthis[key] = _get;\r\n\t});\r\n}\r\n\r\n/*设置路由的状态是够允许跳转*/\r\nexport function setRouterLinkStatus() {\r\n\r\n\tconst fn = this.constructor.fn;\r\n\r\n\tconst tmpl = this.constructor.tmpl;\r\n\r\n\tthis.changeRoutereStatus(true);\r\n\r\n\tconst routerBtns = fn.getEls(this.config.routerLink); //获取路由绑定的节点\r\n\r\n\tfn.each(routerBtns, (routerBtn, index) => {\r\n\t\tfn.on(routerBtn, 'click', (event) => {\r\n\t\t\tconst path = tmpl.attr(routerBtn, 'href'),\r\n\t\t\t\thash = this.getHash(path);\r\n\t\t\tif(!(this.lastRouter === hash)){\t\t\t\t\r\n\t\t\t\t//点击路由链接触发的钩子\r\n\t\t\t\tfn.run(this.config.triggerRouter, this, [path, routerBtn]);\r\n\t\t\t}\r\n\t\t\tif(!this.routerStatus) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\n/*设置路由的锚点形式*/\r\nexport function setRouterAnchor(time) {\r\n\tconst fn = this.constructor.fn,\r\n\t\ttmpl = this.constructor.tmpl;\r\n\r\n\tfunction stopScroll(event) {\r\n\t\tevent.preventDefault();\r\n\t}\r\n\r\n\t//获取路由绑定的节点\r\n\ttmpl.on(document, this.config.routerAnchor, 'click', (event, el) => {\r\n\r\n\t\tconst anchorId = tmpl.attr(el, this.config.routerAnchorAttr),\r\n\t\t\tanchorEl = fn.getEl(anchorId);\r\n\r\n\t\tlet anchorOffsetTop = tmpl.attr(el, this.config.routerAnchorTop);\r\n\r\n\t\tanchorOffsetTop = fn.isNum(anchorOffsetTop) ? Number(anchorOffsetTop) : 0;\r\n\r\n\t\tif(fn.isEl(anchorEl)) {\r\n\t\t\t//定义滑动阻止默认动作\r\n\t\t\twindow.addEventListener('mousewheel', stopScroll);\r\n\r\n\t\t\ttmpl.animate(document, {\r\n\t\t\t\t'scrollTop': tmpl.offset(anchorEl).top + anchorOffsetTop\r\n\t\t\t}, time, function() {\r\n\t\t\t\twindow.removeEventListener('mousewheel', stopScroll);\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/*设置保持状态*/\r\nexport function setkeepLive() {\r\n\tconst fn = this.constructor.fn;\r\n\tif(!this.config.keepLive) return;\r\n\tfn.on(window, 'scroll', (event) => {\r\n\t\tif(this.router[this.currentRouter] && this.router[this.currentRouter]['keepLive']) {\r\n\t\t\tthis.router[this.currentRouter]['scrollTop'] = document.body.scrollTop || document.documentElement.scrollTop;\r\n\t\t}\r\n\t});\r\n}\r\n\r\n//初始处理路由信息\r\nexport function setPaths(routes) {\r\n\r\n\tconst fn = this.constructor.fn;\r\n\r\n\tthis.alias = {};\r\n\r\n\tfn.each(routes, (router, path) => {\r\n\r\n\t\tconst alias = router.alias;\r\n\r\n\t\tthis.router[path]['view'] = []; //设置视图节点\r\n\r\n\t\t//如果设置了全局的keepLive，就会默认设置保持节点为true,全局设定状态的时候是支持保持状态的\r\n\t\tif(this.config.keepLive && this.router[path]['keepLive'] === undefined) {\r\n\t\t\tthis.router[path]['keepLive'] = true;\r\n\t\t}\r\n\r\n\t\tthis.router[path]['temp'] = document.createDocumentFragment(); //设置临时存放节点\r\n\r\n\t\t//存在别名\r\n\t\tif(alias) {\r\n\t\t\tthis.alias[alias] = path;\r\n\t\t}\r\n\t});\r\n}\r\n\r\n//设置hash\r\nexport function setHashEvent() {\r\n\r\n\tconst tmpl = this.constructor.tmpl;\r\n\r\n\tif(!this.constructor.hasTmplRouter) {\r\n\t\t//修改hash时触发修改\r\n\t\twindow.onhashchange = (event) => {\r\n\t\t\tthis.hashChange();\r\n\t\t\ttmpl.preventDefault(event);\r\n\t\t}\r\n\t\tthis.constructor.hasTmplRouter = true;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl-router/set.js"],"sourceRoot":""}